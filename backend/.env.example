# ============================================
# AURA PRESENCE - Backend Environment Variables
# ============================================
# Kopiere diese Datei nach .env und fülle die Werte aus:
# cp .env.example .env

# ============================================
# REQUIRED (Server startet nicht ohne diese)
# ============================================

# Node-Umgebung: development | production | test
NODE_ENV=development

# Server-Port (Standard: 3001)
PORT=3001

# JWT Secret für Token-Signierung (MUSS mindestens 32 Zeichen haben!)
# Generiere mit: openssl rand -base64 48
# WICHTIG: In Production NIEMALS den Default-Wert verwenden!
JWT_SECRET=fX8q4IIymhYi71L9u/YAGZompM7454uyQcEvRdfq03y2z/ZUjJCeBAHbSOKL8ajf

# Datenbank-URL
# Development (SQLite): sqlite://./data/aura-presence.db
# Production (PostgreSQL): postgresql://user:password@host:5432/dbname
DATABASE_URL=sqlite://./data/aura-presence.db

# ============================================
# OPTIONAL (mit funktionierenden Defaults)
# ============================================

# JWT Token-Lebensdauer (Standard: 7d = 7 Tage)
# Format: 60, "2 days", "10h", "7d"
JWT_EXPIRES_IN=7d

# Frontend-URL für CORS (Standard: http://localhost:5173)
FRONTEND_URL=http://localhost:5173

# Rate Limiting
# Zeitfenster in Millisekunden (Standard: 900000 = 15 Minuten)
RATE_LIMIT_WINDOW_MS=900000
# Maximale Anfragen pro Zeitfenster (Standard: 100)
RATE_LIMIT_MAX_REQUESTS=100

# Logging-Level: error | warn | info | debug
# Production: warn oder error empfohlen
LOG_LEVEL=info

# ============================================
# DRITTANBIETER-APIs (Optional)
# ============================================

# OpenAI API Key für KI-Interpretationen
# Falls nicht gesetzt: Mock-Modus wird verwendet
# Erhalten unter: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Stripe (Subscription-System)
# Falls nicht gesetzt: Subscription-Features deaktiviert
# Test-Keys erhalten unter: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PRICE_ID=

# ============================================
# DATABASE (Optional - für Production PostgreSQL)
# ============================================

# SQLite-Pfad (nur für Development, wird ignoriert wenn DATABASE_URL gesetzt)
DB_PATH=./data/aura-presence.db

# PostgreSQL Connection Pool (nur relevant für PostgreSQL)
DB_POOL_MIN=2
DB_POOL_MAX=10

# ============================================
# WEBRTC / SOCKET.IO (Optional)
# ============================================

# Erlaube anonyme Socket-Verbindungen (ohne JWT-Auth)
# ACHTUNG: In Production auf false setzen!
ALLOW_ANONYMOUS_SOCKETS=false

# ============================================
# HINWEISE
# ============================================
# 
# SICHERHEIT:
# - Committe NIEMALS die .env Datei in Git!
# - Rotiere Secrets regelmäßig (JWT_SECRET alle 90 Tage)
# - Verwende starke Passwörter (min. 32 Zeichen für JWT_SECRET)
# 
# PRODUCTION:
# - Setze NODE_ENV=production
# - Verwende PostgreSQL statt SQLite
# - Aktiviere HTTPS/SSL
# - Setze LOG_LEVEL=warn oder error
# - Deaktiviere ALLOW_ANONYMOUS_SOCKETS
# 
# TESTING:
# - Verwende separate Test-Datenbank
# - Stripe Test-Keys verwenden (sk_test_...)
# - OpenAI Mock-Modus ausreichend für Tests
# 
# MEHR INFOS:
# - README.md: Setup-Anleitung
# - QUICKSTART.md: Schnellstart
# - docs/DEPLOYMENT.md: Production-Deployment

